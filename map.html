<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>HowLowCanAvlGo?</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="../AshevilleGreenMap/css/bootstrap.css" rel="stylesheet">
    <link href="../AshevilleGreenMap/css/bootstrap-responsive.css" rel="stylesheet">
    <link rel="SHORTCUT ICON" href="http://ashevillenc.gov/Portals/0/favicon.ico" />
    <link type="text/css" rel="stylesheet" href="../AshevilleGreenMap/css/stylesheet.css"/>
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.6.2/leaflet.css" />
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/ui-lightness/jquery-ui.css" /> 
    <link rel="stylesheet" href="../AshevilleGreenMap/js/Leaflet.markercluster-master/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="../AshevilleGreenMap/js/Leaflet.markercluster-master/dist/MarkerCluster.Default.css" />
    <link rel="stylesheet" href="../AshevilleGreenMap/js/Leaflet.awesome-markers-master/dist/leaflet.awesome-markers.css" />
    <link rel="stylesheet" href="../AshevilleGreenMap/js/L.GeoSearch-master/src/css/l.geosearch.css" />
    <!--[if lte IE 8]><link rel="stylesheet" href="../dist/MarkerCluster.Default.ie.css" /><![endif]-->
    <!--<script src="../new/leafletajax/dist/leaflet.ajax.js"></script>-->


    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../TESTSITE/js/html5shiv.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../AshevilleGreenMap/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../AshevilleGreenMap/ico/apple-touch-icon-114-precomposed.png">
      <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../AshevilleGreenMap/ico/apple-touch-icon-72-precomposed.png">
                    <link rel="apple-touch-icon-precomposed" href="../AshevilleGreenMap/ico/apple-touch-icon-57-precomposed.png">
                                   <link rel="shortcut icon" href="../AshevilleGreenMap/ico/favicon.png">
  </head>

  <body style="background: url('../AshevilleGreenMap/img/grey.png');">


<!-- NAVBAR
================================================== -->
<div class="navbar-wrapper">
<!-- Wrap the .navbar in .container to center it within the absolutely positioned parent. -->
  <div class="container">
    <div class="container-fluid">
    <div class="navbar">
      <div class="navbar-inner">
      <!-- Responsive Navbar Part 1: Button for triggering responsive navbar (not covered in tutorial). Include responsive CSS to utilize. -->
        <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
            <a class="brand" href="#"><img style="width:auto; height:auto; border:0px;" src="../AshevilleGreenMap/img/HowLowCanYouGo/HowLow_Horizontal_logos/HowLow_290-2_horiz_small.compressed.jpg" /></a>
            <!-- Responsive Navbar Part 2: Place all navbar contents you want collapsed withing .navbar-collapse.collapse. -->
           
            
          
            <div class="nav-collapse collapse">
              <ul class="nav pull-right">
                  
              <li class="pos-button"><strong class="text-success">Your Sustainable Backyard:</strong>
                <p><select class="text-info" id="zoom" onchange="zoomToRA(this.options[this.selectedIndex].text, this.value)"></select></p>
              </li>
            

                <!--<li class="pos-button"><div class='btn-group'>
                <button class="btn btn-success" id="Overview" value="0" onclick="bswitch(this.value);">Overview</button>
                <button class="btn btn-success" id="Transportation" value="1" onclick="bswitch(this.value);">Transportation</button>
                <button class="btn btn-success" id="Energy" value="2" onclick="bswitch(this.value);">Energy</button>
                <button class="btn btn-success" value="3" onclick="bswitch(this.value);">Recycling</button>
                <button class="btn btn-success" value="4" onclick="bswitch(this.value);">Water</button>
                <button class="btn btn-success" id="Food" value="5" onclick="bswitch(this.value);">Food</button>
              </div></li>-->
                <!-- Read about Bootstrap dropdowns at http://twitter.github.com/bootstrap/javascript.html#dropdowns -->
               
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Other Info <b class="caret"></b></a>
                  <ul class="dropdown-menu drop-index" role="menu" aria-labelledby="dLabel">
                    <li><a href="http://www.ashevillenc.gov/">City of Asheville</a></li>
                    <li><a href="http://opendatacatalog.ashevillenc.gov/">Open Data Asheville</a></li>
                    <li><a href="">Sustainability Flickr</a></li>
                    <li><a href="http://www.curbie.com/Curbie/Home.html">Curbside Management</a></li>
                    <li><a href="http://dannysdumpster.com/">Dannyâ€™s Dumpsters</a></li>
                    <li><a href="http://asapconnections.org/">ASAP</a></li>
                    <li><a href="http://www.usgbc.org/leed/certification">LEED Certification</a></li>
                    <li><a href="http://dinegreen.com/default.asp">Green Restaurants Certification</a></li>
					          <li><a href="https://github.com/cityofasheville/AshevilleGreenMap.git">Fork us on Github</a></li>
                  </ul>
                </li>
            
            </div><!--/.nav-collapse -->
      </div><!-- /.navbar-inner -->
    </div><!-- /.navbar -->
     <div class="row-fluid">
      <div class="span10">   
        <div id="map"></div>
      </div>
      <div class="span2">
       
        <div id="intro">
          <!--<img src="../AshevilleGreenMap/img/HowLowCanYouGo/HowLow_Vertical_logos/HowLow_298-1_vert_white.jpg" />-->
    <ul class="info unstyled">
      <li><h3>This is were the intro goes. </h3></li>
      <li><img src="http://farm8.staticflickr.com/7368/9401788588_76ef4b276e_n.jpg" /></li>
      <li>BLah BLah BLah BLah BLah BLah BLah BLah BLah BLah BLah BLah BLah BLah BLah BLah BLah BLah BLah BLah BLah BLah</li>
    <!--<li class="nav-header"><p class="text-success">Transportation</p></li>
    <li><label class="checkbox"><input type="checkbox" id="Biodiesel" value="Biodiesel" onclick="check(this.value)"><p class="text-info">Biodiesel</p></label></li>
    <li><label class="checkbox"><input type="checkbox" id="Greenway" value="Greenway" onclick="check(this.value)"><p class="text-info">Greenway</p></label></li>
    <li><label class="checkbox"><input type="checkbox" id="Bike Rack" value="Bike Rack" onclick="check(this.value)"><p class="text-info">Bike Rack</p></label></li>
    <li class="divider"></li>
    <li class="nav-header"><p class="text-success">Energy</p></li>
    <li><label class="checkbox"><input type="checkbox" id="Solar Thermal" value="Solar Thermal" onclick="check(this.value)"><p class="text-info">Solar Thermal</p></label></li>
    <li><label class="checkbox"><input type="checkbox" id="Energy Feature" value="Energy Feature" onclick="check(this.value)"><p class="text-info">Energy Feature</p></label></li>
    <li><label class="checkbox"><input type="checkbox" id="LEED Certification" value="LEED Certification" onclick="check(this.value)"><p class="text-info">LEED Certification</p></label></li>
    <li><label class="checkbox"><input type="checkbox" id="EV Charging Station" value="EV Charging Station" onclick="check(this.value)"><p class="text-info">EV Charging Station</p></label></li>
    <li class="divider"></li>
    <li class="nav-header"><p class="text-success">Waste</p></li>
    <li><label class="checkbox"><input type="checkbox" id="Recycle" value="Recycle" onclick="check(this.value)"><p class="text-info">Recycle</p></label></li>
    <li><label class="checkbox"><input type="checkbox" id="Cooking Oil Drop-Off" value="Cooking Oil Drop-Off" onclick="check(this.value)"><p class="text-info">Cooking Oil Drop-Off</p></label></li>
    <li class="divider"></li>
    <li class="nav-header"><p class="text-success">Water</p></li>
    <li><label class="checkbox"><input type="checkbox" id="Stormwater" value="Stormwater" onclick="check(this.value)"><p class="text-info">Stormwater</p></label></li>
    <li><label class="checkbox"><input type="checkbox" id="Feature" value="Feature"><p class="text-info" onclick="check(this.value)">Feature</p></label></li>
    <li class="divider"></li>
    <li class="nav-header"><p class="text-success">Food</p></li>
    <li><label class="checkbox"><input type="checkbox" id="Green Certified" value="Green Certified" onclick="check(this.value)"><p class="text-info">Green Certified</p></label></li>
    <li><label class="checkbox"><input type="checkbox" id="Community Garden" value="Community Garden" onclick="check(this.value)"><p class="text-info">Community Garden</p></label></li>
    <li><label class="checkbox"><input type="checkbox" id="Manna Agencies" value="Manna Agencies" onclick="check(this.value)"><p class="text-info">Manna Agencies</p></label></li>
    <li><label class="checkbox"><input type="checkbox" id="TM" value="Tailgate Market" onclick="check(this.value)"><p class="text-info">Tailgate Market</p></label></li>
    <li><label class="checkbox"><input type="checkbox" id="Grocery" value="Grocery" onclick="check(this.value)"><p class="text-info">Grocery</p></label></li>-->
  </ul>
  </ul>
</div>

        </div>
      </div>
    </div>

  </div><!--container fluid-->
  </div> <!-- /.container -->
</div><!-- /.navbar-wrapper -->


<!-- Le javascript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="http://cdn.leafletjs.com/leaflet-0.6.2/leaflet.js"></script>
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script src="../AshevilleGreenMap/js/Leaflet.markercluster-master/dist/leaflet.markercluster-src.js"></script>
<script src="../AshevilleGreenMap/js/leaflet-hash.js"></script>
<!--<script src="../AshevilleGreenMap/js/barchart.js"></script>-->
<script src="../AshevilleGreenMap/js/azgs-leaflet-master/js/azgs-leaflet/TileLayer.ESRI.js"></script>
<script src="../AshevilleGreenMap/data/parks.js"></script>
<script src="../AshevilleGreenMap/data/RA.geojson"></script>
<script src="../AshevilleGreenMap/data/greenwaydata.js"></script>
<script src="../AshevilleGreenMap/data/sidewalkdata.geojson"></script>
<script src="../AshevilleGreenMap/data/bikedata.js"></script>
<script src="../AshevilleGreenMap/data/locations.geojson"></script>
<script src="../AshevilleGreenMap/js/jquery.js"></script>
<script src="../AshevilleGreenMap/js/bootstrap-transition.js"></script>
<script src="../AshevilleGreenMap/js/bootstrap-alert.js"></script>
<script src="../AshevilleGreenMap/js/bootstrap-modal.js"></script>
<script src="../AshevilleGreenMap/js/bootstrap-dropdown.js"></script>
<script src="../AshevilleGreenMap/js/bootstrap-scrollspy.js"></script>
<script src="../AshevilleGreenMap/js/bootstrap-tab.js"></script>
<script src="../AshevilleGreenMap/js/bootstrap-tooltip.js"></script>
<script src="../AshevilleGreenMap/js/bootstrap-popover.js"></script>
<script src="../AshevilleGreenMap/js/bootstrap-button.js"></script>
<script src="../AshevilleGreenMap/js/bootstrap-collapse.js"></script>
<script src="../AshevilleGreenMap/js/bootstrap-carousel.js"></script>
<script src="../AshevilleGreenMap/js/bootstrap-typeahead.js"></script>
<script src="../AshevilleGreenMap/js/jquery.dataTables.js"></script>
<script src="../AshevilleGreenMap/js/datatable.bootstrap.js"></script>
<script src="../AshevilleGreenMap/js/Leaflet.awesome-markers-master/dist/leaflet.awesome-markers.js"></script>
<script src="../AshevilleGreenMap/js/L.GeoSearch-master/src/js/l.control.geosearch.js"></script>
<script src="../AshevilleGreenMap/js/L.GeoSearch-master/src/js/l.geosearch.provider.openstreetmap.js"></script>
<script src="../AshevilleGreenMap/js/bouncemarker.js"></script>
<!--<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>-->
<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.1/jquery-ui.min.js"></script>	
<script type="text/javascript">
 
//map set up
var map = L.map('map', {
  center: [35.583427, -82.554519],
  zoom: 12,
  zoomControl: false,
  attributionControl: false
});

// var zoom = new L.control.zoom();
//           zoom.setPosition('topright').addTo(map);
//Adds hash to url          
var hash = new L.Hash(map);

//Adds OpenStreetMap search option
//Added in custom bouncing option
new L.Control.GeoSearch({
    provider: new L.GeoSearch.Provider.OpenStreetMap()
}).addTo(map); 

//Setup for attribution
atr = new L.Control.Attribution({
    position: 'bottomright',
    prefix: '<a href="http://leafletjs.com">Leaflet</a>'
  }).addTo(map);

atr.addAttribution('&copy; <a href="http://www.ashevillenc.gov/Departments/Sustainability.aspx">City of Asheville</a>');
atr.addAttribution('&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors');


            
//base map from cloudmade   
var cloudmade = L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
	  zIndex: 2
	}).addTo(map);
		
//point to layer for Geojson layers           
function locationPoints (feature, latlng) {
   return L.circleMarker(latlng, {
    fillColor: '#bf5b30',
    radius: 4,
    color: '#a63100',
    weight: 1,
    fillOpacity: 1
  });
}


function cookingoilpoint (feature, latlng) {
  return L.marker(latlng, {
    icon: OilMarker
  });
}

//Set New Icon
var OilMarker = L.AwesomeMarkers.icon({
  icon: 'icon-tint', 
  color: 'green',
  iconColor: 'white'
});

//popups for GeoJson layers   
function sidewalkPopUp(feature, layer) {
  layer.bindPopup('<h4>Sidewalk</h4><strong>Segment Type: </strong>' + feature.properties.SEGMENTTYP );
}

function parkPopUp(feature, layer) {
  layer.bindPopup('<h4>Park</h4><strong>Park: </strong>' + feature.properties.parkname + '<br />' + '<strong>Acres: </strong>' + feature.properties.acres);
}



function bikeroutePopUp(feature, layer) {
  layer.bindPopup('<h4>Bike Infrastructure</h4><strong>Type: </stong>' + feature.properties.fac_rec + '<br />' + '<strong>Safety: </strong>' + feature.properties.suitability);
}



function LocationPopUp(feature, layer){
  layer.bindPopup('<ul class="unstyled"><li><h4>' + feature.properties["Big Group"] + '</h4></li><li><h5>' + feature.properties["Sub Category"] + '</h5></li></ul><strong>Name: </strong>' + feature.properties.Name + '<br />' + '<strong>Description: </strong>' + feature.properties.Description + '<br />' + '<strong>Address: </strong>' + feature.properties.Address + '<br />' + '<img src="' + feature.properties.Thumb_URL + '"/>');
}

//Filters for GeoJson Layers
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

function greenwayFilter(feature, layer){
  if(feature.properties.segmenttype === "GREENWAY"){
    return feature.properties.segmenttype;
  }
}   

function sidewalkFilter(feature, layer){
  if(feature.properties.SEGMENTTYP !== "GREENWAY" && feature.properties.SEGMENTTYP !== "PROPOSED GREENWAY" && feature.properties.SEGMENTTYP !== "PROPOSED 2005 PED PLAN" && feature.properties.SEGMENTTYP !== "NEEDED LINKAGE" ){
    return feature.properties.SEGMENTTYP;
  }
}

function BikeRackFilter(feature, layer){
  if(feature.properties["Sub Category"] === "Bike Rack"){
    return feature.properties["Sub Category"];
  }
}

function SolarFilter(feature, layer){
  if(feature.properties["Sub Category"] === "Solar Thermal"){
    return feature.properties["Sub Category"];
   }
}

function EnergyFilter(feature, layer){
  if(feature.properties["Sub Category"] === "Energy Feature"){
    return feature.properties["Sub Category"];
  }
}

function LEEDFilter(feature, layer){
  if(feature.properties["Sub Category"] === "LEED Certification"){
    return feature.properties["Sub Category"];
  }
}

function RestaurantFilter(feature, layer){
  if(feature.properties["Sub Category"] === "Green Certified Restaurant"){
    return feature.properties["Sub Category"];
  }
}

function GardenFilter(feature, layer){
  if(feature.properties["Sub Category"] === "Community Garden"){
    return feature.properties["Sub Category"];
  }
} 

function BiodieselFilter(feature, layer){
  if(feature.properties["Sub Category"] === "Biodiesel"){
    return feature.properties["Sub Category"];
  }
}

function Greenway1Filter(feature, layer){
  if(feature.properties["Sub Category"] === "Greenway"){
    return feature.properties["Sub Category"];
  }
}

function RecycleFilter(feature, layer){
  if(feature.properties["Sub Category"] === "Recycle"){
    return feature.properties["Sub Category"];
  }
}

function StormwaterFilter(feature, layer){
  if(feature.properties["Sub Category"] === "Stormwater"){
    return feature.properties["Sub Category"];
  }
}

function FeatureFilter(feature, layer){
  if(feature.properties["Sub Category"] === "Feature"){
    return feature.properties["Sub Category"];
  }
}

function TailgateFilter(feature, layer){
  if(feature.properties["Sub Category"] === "Tailgate Market"){
    return feature.properties["Sub Category"];
  }
}

function MannaFilter(feature, layer){
  if(feature.properties["Sub Category"] === "Manna Agencies"){
    return feature.properties["Sub Category"];
  }
}

// function GroceryFilter(feature, layer){
//   if(feature.properties["Sub Category"] === "Grocery"){
//     return feature.properties["Sub Category"];
//   }
// }

function EVFilter(feature, layer){
  if(feature.properties["Sub Category"] === "EV Charging Station"){
    return feature.properties["Sub Category"];
  }
}

function CookingOilFilter(feature, layer){
  if(feature.properties["Sub Category"] === "Cooking Oil"){
    return feature.properties["Sub Category"];
  }
}

function CNGFilter(feature, layer){
  if(feature.properties["Sub Category"] === "CNG"){
    return feature.properties["Sub Category"];
  }
}

function CompostFilter(feature, layer){
  if(feature.properties["Sub Category"] === "Compost"){
    return feature.properties["Sub Category"];
  }
}

//Styles for Geojson layers
var parkstyle = {
  "color": "#008F3E",
  "weight": 1,
  "opacity": 0.65
  };

var reportstyle = {
  "color": '#CBCCB8',
  "weight": 2,
  "opacity": 1
}

var bikestyle = {
  "color": "#ff9400",
  "weight": 3,
  "opacity": 0.65
  };

var Transportation_Style = {fillColor: '#D79D21', color: "#D79D21", weight: 1, fillOpacity: 1};
var Food_Style = {fillColor: '#DD502A', color: '#DD502A', weight: 1, fillOpacity: 1 };
var Water_Style = {fillColor: '#0099CC', color: "#0099CC", weight: 1, fillOpacity: 1};
var Waste_Style = {fillColor: '#63B355', color: "#63B355", weight: 1, fillOpacity: 1};
var Energy_Style = {fillColor: '#EAC13A', color: "#EAC13A", weight: 1, fillOpacity: 1};
 
function greenwayStyle(feature) {
  switch (feature.properties.segmenttype) {
    case 'GREENWAY': return {color: "#41db00","weight": 2,"opacity": 0.65};
    case 'PROPOSED GREENWAY': return {color: "#92ed6b","weight": 2,"opacity": 0.65,dashArray: '3'};
    }
}

function sidewalkStyle(feature) {
  switch (feature.properties.SEGMENTTYP) {
    case 'SIDEWALK': return {color: "#6997D3","weight": 2,"opacity": 0.65};
    case 'PARK PATH': return {color: "#92ed6b","weight": 2,"opacity": 0.65,dashArray: '3'};
    case 'CROSSWALK': return {color: "#6997D3","weight": 2,"opacity": 0.65,dashArray: '3'};
    case 'CONNECTOR CROSSWALK': return {color: "#6997D3","weight": 2,"opacity": 0.65,dashArray: '3'};
    case 'FACILITY WALKWAY': return {color: "#5FD2B5","weight": 2,"opacity": 0.65,dashArray: '3'};
    case 'PED BRIDGE': return {color: "#6997D3","weight": 2,"opacity": 0.65,dashArray: '3'};
    case 'CONNECTOR DRIVEWAY': return {color: "#6997D3","weight": 2,"opacity": 0.65,dashArray: '3'};
    case 'CONNECTOR OPEN PARKING': return {color: "#6997D3","weight": 2,"opacity": 0.65,dashArray: '3'};
    case 'CONNECTOR SIDEWALK': return {color: "#6997D3","weight": 2,"opacity": 0.65,dashArray: '3'};
    }
}





//Event Handleer set ups
//Color toggle setup
function locationsSelection(e){
  var layer = e.target;
  layer.setStyle({
    fillColor: '#5FDCFA',
    color: '#5FDCFA', 
    weight: 2, 
    fillOpacity: 1 
  });
}

//Resets item to original style
function resetHighlight(e) {
    var layer = e.target;
      layer.resetStyle(e.target);
    }

//Zoom to feature setup
function zoomToFeature(e) {
      map.fitBounds(e.target.getBounds());
    }

//Set up for all options uses in geojson setup
function onEachFeature(feature, layer) {
  layer.bindPopup('<ul class="unstyled"><li><h4>' + feature.properties["Big Group"] + '</h4></li><li><h5>' + feature.properties["Sub Category"] + '</h5></li></ul><strong>Name: </strong>' + feature.properties.Name + '<br />' + '<strong>Description: </strong>' + feature.properties.Description + '<br />' + '<strong>Address: </strong>' + feature.properties.Address + '<br />' + '<br /><img style="width:200px; height:250px; border:0px;" src="' + feature.properties.URL + '"/>');
      layer.on({
        //mouseover: locationsSelection,
        //mouseout: resetHighlight,
       click: zoomToFeature
      });
    }


//Ajax Call for geojson data
// $.ajax({
//     type: "POST",
//     url: "../AshevilleGreenMap/data/locations.geojson",
//     dataType: 'json',
//     success: function (response) {
//         locations = L.geoJson(response, {
//           pointToLayer: locationPoints,
//           style: locationsStyle,
//           onEachFeature:onEachFeature
//         }).addTo(map);
//     }
// });


//GeoJson set Up
var parks = L.geoJson(parks, {style:parkstyle, onEachFeature:parkPopUp});
var bikes = L.geoJson(bikedata, {style:bikestyle, onEachFeature:bikeroutePopUp});
//var greenway = L.geoJson(greenwaydata, {style:greenwayStyle, filter:greenwayFilter});
var sidewalk = L.geoJson(sidewalkdata, {style:sidewalkStyle, filter:sidewalkFilter, onEachFeature: sidewalkPopUp});
var RA = L.geoJson(ReportingData, {style:reportstyle}).addTo(map);
var solar_thermal = L.geoJson(locationsdata, {pointToLayer: locationPoints, onEachFeature:onEachFeature, style:Energy_Style, filter:SolarFilter}).addTo(map);
var energy_feature = L.geoJson(locationsdata, {pointToLayer: locationPoints, onEachFeature:onEachFeature, style:Energy_Style, filter:EnergyFilter}).addTo(map);
var leed_certification = L.geoJson(locationsdata, {pointToLayer: locationPoints, onEachFeature:onEachFeature, style:Energy_Style, filter:LEEDFilter}).addTo(map);
var green_certified_restaurant = L.geoJson(locationsdata, {pointToLayer: locationPoints, onEachFeature:onEachFeature, style:Food_Style, filter:RestaurantFilter}).addTo(map);
var communtiy_garden = L.geoJson(locationsdata, {pointToLayer: locationPoints, onEachFeature:onEachFeature, style:Food_Style, filter:GardenFilter}).addTo(map);
var biodiesel = L.geoJson(locationsdata, {pointToLayer: locationPoints, onEachFeature:onEachFeature, style:Transportation_Style, filter:BiodieselFilter}).addTo(map);
var greenway = L.geoJson(locationsdata, {pointToLayer: locationPoints, onEachFeature:onEachFeature, style:Transportation_Style, filter:Greenway1Filter}).addTo(map);
var recycle = L.geoJson(locationsdata, {pointToLayer: locationPoints, onEachFeature:onEachFeature, style:Waste_Style, filter:RecycleFilter}).addTo(map);
var stormwater = L.geoJson(locationsdata, {pointToLayer: locationPoints, onEachFeature:onEachFeature, style:Water_Style, filter:StormwaterFilter}).addTo(map);
var feature = L.geoJson(locationsdata, {pointToLayer: locationPoints, onEachFeature:onEachFeature, style:Water_Style, filter:FeatureFilter}).addTo(map);
var tailgate_market = L.geoJson(locationsdata, {pointToLayer: locationPoints, onEachFeature:onEachFeature, style:Food_Style, filter:TailgateFilter}).addTo(map);
var manna_agencies = L.geoJson(locationsdata, {pointToLayer: locationPoints, onEachFeature:onEachFeature, style:Food_Style, filter:MannaFilter}).addTo(map);
//var grocery = L.geoJson(locationsdata, {pointToLayer: locationPoints, onEachFeature:onEachFeature, style:Food_Style, filter:GroceryFilter}).addTo(map);
var ev_charging_station = L.geoJson(locationsdata, {pointToLayer: locationPoints, onEachFeature:onEachFeature, style:Energy_Style, filter:EVFilter}).addTo(map);
var bike_rack = L.geoJson(locationsdata, {pointToLayer: locationPoints, onEachFeature:onEachFeature, style:Transportation_Style, filter:BikeRackFilter}).addTo(map);
var cooking_oil = L.geoJson(locationsdata, {pointToLayer: locationPoints, onEachFeature:onEachFeature, style:Waste_Style, filter:CookingOilFilter}).addTo(map);
var cng = L.geoJson(locationsdata, {pointToLayer: locationPoints, onEachFeature:onEachFeature, style:Transportation_Style, filter:CNGFilter}).addTo(map);
var compost = L.geoJson(locationsdata, {pointToLayer: locationPoints, onEachFeature:onEachFeature, style:Waste_Style, filter:CompostFilter}).addTo(map);



//Change layers
//where id is the checkbox id, feature is a geojson leaflet layer, and style is a leaflet geojson style
function checkSuccess(id, feature, style){
  if(document.getElementById(id).checked === true){
    feature.setStyle({
      fillColor: '#5FDCFA',
      color: '#5FDCFA',
      weight: 10,
      fillOpacity: 1
    });
  }
  else{
    feature.setStyle(style);
  }
}
  
    
//Switch to activate layer selection
function check(value){
  switch (value) {
     case "Biodiesel":
      checkSuccess('Biodiesel', biodiesel, Transportation_Style);
      break;

    case "CNG":
      checkSuccess('CNG', cng, Transportation_Style);
      break;

    case "Greenway":
      checkSuccess('Greenway', greenway, Transportation_Style);
      break;

    case "Bike Rack":
      checkSuccess('Bike Rack', bike_rack, Transportation_Style);
      break;

    case "Solar Thermal":
      checkSuccess('Solar Thermal', solar_thermal, Energy_Style);
      break;

    case "Energy Feature":
      checkSuccess('Energy Feature', energy_feature, Energy_Style);
      break;

    case "LEED Certification":
      checkSuccess('LEED Certification', leed_certification, Energy_Style);
      break;

    case "EV Charging Station":
      checkSuccess('EV Charging Station', ev_charging_station, Energy_Style);
      break;

     case "Recycle":
      checkSuccess('Recycle', recycle, Waste_Style);
      break;

    case "Cooking Oil Drop-Off":
      checkSuccess('Cooking Oil Drop-Off', cooking_oil, Waste_Style);
      break;

    case "Compost":
      checkSuccess('Compost', compost, Waste_Style);
      break;

    case "Stormwater":
      checkSuccess('Stormwater', stormwater, Water_Style);
      break;

    case "Feature":
      checkSuccess('Feature', feature, Water_Style);
      break;

    case "Green Certified":
      checkSuccess('Green Certified', green_certified_restaurant, Food_Style);
      break;

    case "Community Garden":
      checkSuccess('Community Garden', communtiy_garden, Food_Style);
      break;

    case "Manna Agencies":
      checkSuccess('Manna Agencies', manna_agencies, Food_Style);
      break;

    case "Tailgate Market":
      checkSuccess('TM', tailgate_market, Food_Style);
      break;

    // case "Grocery":
    //   checkSuccess('Grocery', grocery, Food_Style);
    //   break;

  default:
      break;
  }
}






//Legends
var legendOverview = L.control({position: 'topright'});
  legendOverview.onAdd = function (map) {
    var div = L.DomUtil.create('div', 'info legend');
      div.innerHTML = '<i style="background: #ff9400"></i>' + '     ' + 'Bike Routes<br /><i style="background: #41db00"></i>' + '     ' + 'Greenways<br /><i style="background: #008F3E "></i>' + '     ' + 'Parks<br /><i style="background: #DD502A; outline-color: #DD502A; border-radius:50px  "></i>' + '     ' + 'Food<br /><i style="background: #0099CC; outline-color: #0099CC; border-radius:50px "></i>' + '     ' + 'Water<br /><i style="background: #D79D21; outline-color: #D79D21; border-radius:50px "></i>' + '     ' + 'Transportation<br /><i style="background: #63B355; outline-color: #63B355; border-radius:50px "></i>' + '     ' + 'Waste<br /><i style="background: #EAC13A; outline-color: #EAC13A; border-radius:50px "></i>' + '     ' + 'Energy<br />';
    return div;
  }

  legendOverview.addTo(map);


    var checkbox = L.control({position: 'topleft'});
  checkbox.onAdd = function (map) {
    var div = L.DomUtil.create('div', 'info legend');
      div.innerHTML = '<ul class="info unstyled"><li class="nav-header"><p class="text-success">Transportation</p></li><li><label class="checkbox"><input type="checkbox" id="Biodiesel" value="Biodiesel" onclick="check(this.value)"><p class="text-info">Biodiesel</p></label></li><li><label class="checkbox"><input type="checkbox" id="CNG" value="CNG" onclick="check(this.value)"><p class="text-info">CNG</p></label></li><li><label class="checkbox"><input type="checkbox" id="Greenway" value="Greenway" onclick="check(this.value)"><p class="text-info">Greenway</p></label></li><li><label class="checkbox"><input type="checkbox" id="Bike Rack" value="Bike Rack" onclick="check(this.value)"><p class="text-info">Bike Rack</p></label></li><li class="divider"></li><li class="nav-header"><p class="text-success">Energy</p></li><li><label class="checkbox"><input type="checkbox" id="Solar Thermal" value="Solar Thermal" onclick="check(this.value)"><p class="text-info">Solar Thermal</p></label></li><li><label class="checkbox"><input type="checkbox" id="Energy Feature" value="Energy Feature" onclick="check(this.value)"><p class="text-info">Energy Feature</p></label></li><li><label class="checkbox"><input type="checkbox" id="LEED Certification" value="LEED Certification" onclick="check(this.value)"><p class="text-info">LEED Certification</p></label></li><li><label class="checkbox"><input type="checkbox" id="EV Charging Station" value="EV Charging Station" onclick="check(this.value)"><p class="text-info">EV Charging Station</p></label></li><li class="divider"></li><li class="nav-header"><p class="text-success">Waste</p></li><li><label class="checkbox"><input type="checkbox" id="Recycle" value="Recycle" onclick="check(this.value)"><p class="text-info">Recycle</p></label></li><li><label class="checkbox"><input type="checkbox" id="Cooking Oil Drop-Off" value="Cooking Oil Drop-Off" onclick="check(this.value)"><p class="text-info">Cooking Oil Drop-Off</p></label></li><li><label class="checkbox"><input type="checkbox" id="Compost" value="Compost" onclick="check(this.value)"><p class="text-info">Compost</p></label></li><li class="divider"></li><li class="nav-header"><p class="text-success">Water</p></li><li><label class="checkbox"><input type="checkbox" id="Stormwater" value="Stormwater" onclick="check(this.value)"><p class="text-info">Stormwater</p></label></li><li><label class="checkbox"><input type="checkbox" id="Feature" value="Feature"><p class="text-info" onclick="check(this.value)">Feature</p></label></li><li class="divider"></li><li class="nav-header"><p class="text-success">Food</p></li><li><label class="checkbox"><input type="checkbox" id="Green Certified" value="Green Certified" onclick="check(this.value)"><p class="text-info">Green Certified</p></label></li><li><label class="checkbox"><input type="checkbox" id="Community Garden" value="Community Garden" onclick="check(this.value)"><p class="text-info">Community Garden</p></label></li><li><label class="checkbox"><input type="checkbox" id="Manna Agencies" value="Manna Agencies" onclick="check(this.value)"><p class="text-info">Manna Agencies</p></label></li><li><label class="checkbox"><input type="checkbox" id="TM" value="Tailgate Market" onclick="check(this.value)"><p class="text-info">Tailgate Market</p></label></li></ul>';

    return div;
  }

  checkbox.addTo(map);

//Neighborhood Zoom Control
var options = '<option value="Select">Select a Neighborhood</option>';

for (each in RA._layers) {
      var name = RA._layers[each].feature.properties.NAME;
      var swLat = RA._layers[each].getBounds()._southWest.lat;
      var swLng = RA._layers[each].getBounds()._southWest.lng;
      var neLat = RA._layers[each].getBounds()._northEast.lat;
      var neLng = RA._layers[each].getBounds()._northEast.lng;
      var bbox = swLat + "," + swLng + "," + neLat + "," + neLng;

      // Add states & bbox values to zoom select options
      options += '<option value="' + bbox + '">' + RA._layers[each].feature.properties.NAME + '</option>';
    }
        $("#zoom").html(options);

    // Function call by "zoom" dropdown onSelect
    function zoomToRA (RA, bbox) {
      if (RA === "Select") {
        map.fitBounds(RA.getBounds());
      }
      else {
        map.fitBounds([[parseFloat(bbox.split(",")[0]), parseFloat(bbox.split(",")[1])],[parseFloat(bbox.split(",")[2]), parseFloat(bbox.split(",")[3])]]);
      };
    }

   </script>
   <script src="../AshevilleGreenMap/js/holder.js"></script>
  </body>
</html>
 